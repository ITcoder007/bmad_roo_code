# Story 1.1: 基础项目结构搭建

## Status
Ready for Review

## Story
**As a** 开发人员,
**I want** 搭建项目的基础结构和框架,
**so that** 为后续功能开发提供基础.

## Acceptance Criteria
1. 创建项目的基本目录结构，包括前端、后端和共享代码目录
2. 搭建基础的Spring Boot后端框架，包括基本配置
3. 搭建基础的Vue.js前端框架，包括路由配置
4. 设置Git版本控制和基本的.gitignore文件
5. 配置基本的构建脚本，支持前端和后端的构建
6. 创建README文件，包含项目说明和基本运行指南

## Tasks / Subtasks
- [x] 创建项目根目录和基础目录结构 (AC: 1)
  - [x] 创建根目录 certificate-lifecycle-management
  - [x] 创建 frontend/ 目录用于前端代码
  - [x] 创建 backend/ 目录用于后端代码
  - [x] 创建 docs/ 目录用于文档
  - [x] 创建 scripts/ 目录用于构建和部署脚本
  - [x] 创建 infrastructure/ 目录用于基础设施配置
- [x] 搭建Spring Boot后端基础框架 (AC: 2)
  - [x] 使用Maven创建Spring Boot项目结构
  - [x] 创建 pom.xml 配置文件，包含Spring Boot 2.7.x依赖
  - [x] 创建主应用类 CertificateManagementApplication.java
  - [x] 创建基本的包结构 (controller, service, domain, infrastructure, config, common, security)
  - [x] 创建 application.yml 基础配置文件
  - [x] 创建开发、测试、生产环境配置文件
- [x] 搭建Vue.js前端基础框架 (AC: 3)
  - [x] 使用 Vite 创建 Vue 3 项目
  - [x] 安装并配置 Vue Router 4.x
  - [x] 安装并配置 Pinia 2.x 状态管理
  - [x] 安装并配置 Element Plus 2.x UI组件库
  - [x] 创建基本的目录结构 (api, assets, components, composables, directives, hooks, layouts, mixins, plugins, router, stores, utils, views)
  - [x] 配置基本路由结构
  - [x] 创建 App.vue 和 main.js 入口文件
- [x] 配置Git版本控制 (AC: 4)
  - [x] 初始化Git仓库
  - [x] 创建 .gitignore 文件，包含前端和后端的忽略规则
  - [x] 创建初始提交
- [x] 配置构建脚本 (AC: 5)
  - [x] 创建 scripts/build.sh 构建脚本
  - [x] 创建 scripts/dev.sh 开发启动脚本
  - [x] 创建 scripts/deploy.sh 部署脚本（基础版本）
  - [x] 在根目录创建 package.json 配置前后端并行开发命令
- [x] 创建项目文档 (AC: 6)
  - [x] 创建根目录 README.md，包含项目概述、技术栈、运行指南
  - [x] 创建 frontend/README.md，包含前端开发指南
  - [x] 创建 backend/README.md，包含后端开发指南
- [x] 验证项目可运行
  - [x] 验证后端可以成功启动（mvn spring-boot:run）
  - [x] 验证前端可以成功启动（npm run dev）
  - [x] 验证构建脚本可以正常执行

## Dev Notes

### 项目结构
基于架构文档 [Source: architecture/12.unified-project-structure.md]，项目采用 monorepo 结构：
```
certificate-lifecycle-management/
├── frontend/       # Vue.js前端应用
├── backend/        # Spring Boot后端应用
├── infrastructure/ # 基础设施配置
├── scripts/        # 构建和部署脚本
└── docs/          # 项目文档
```

### 技术栈配置
基于架构文档 [Source: architecture/3.tech-stack.md]：

**后端技术栈：**
- Java 8
- Spring Boot 2.7.x
- MyBatis Plus 3.5.x
- Maven 3.8.x
- MySQL 8.0

**前端技术栈：**
- Vue.js 3.x
- Vue Router 4.x
- Pinia 2.x
- Element Plus 2.x
- Vite 4.x
- JavaScript ES2020+

### 后端包结构
基于架构文档 [Source: architecture/11.backend-architecture.md#项目结构]：
```
backend/src/main/java/com/example/certificate/
├── CertificateManagementApplication.java  # 应用入口
├── config/         # 配置类
├── common/         # 通用模块（常量、异常、响应封装、工具类）
├── controller/     # 控制器层
├── service/        # 服务层（包含dto、vo、mapper子目录）
├── domain/         # 领域层（model、repository、service、event）
├── infrastructure/ # 基础设施层（仓库实现、持久化、外部服务）
└── security/       # 安全模块
```

### 前端目录结构
基于架构文档 [Source: architecture/10.frontend-architecture.md#项目结构]：
```
frontend/src/
├── api/          # API接口封装
├── assets/       # 静态资源
├── components/   # 组件（common、layout、business）
├── composables/  # 组合式函数
├── directives/   # 自定义指令
├── hooks/        # 钩子函数
├── layouts/      # 布局
├── mixins/       # 混入
├── plugins/      # 插件配置
├── router/       # 路由配置
├── stores/       # Pinia状态管理
├── utils/        # 工具函数
├── views/        # 页面视图
├── App.vue       # 根组件
└── main.js       # 应用入口
```

### Maven配置要点
基于架构文档 [Source: architecture/11.backend-architecture.md#后端技术栈]：
```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.7.18</version>
</parent>

<properties>
    <java.version>1.8</java.version>
    <mybatis-plus.version>3.5.5</mybatis-plus.version>
    <mysql.version>8.0.33</mysql.version>
</properties>
```

### Vite配置要点
基于架构文档 [Source: architecture/10.frontend-architecture.md#前端技术栈]：
```javascript
// vite.config.js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true
      }
    }
  }
})
```

### 环境配置文件
**后端环境配置** [Source: architecture/11.backend-architecture.md#日志和监控]：
- application.yml - 基础配置
- application-dev.yml - 开发环境
- application-test.yml - 测试环境
- application-prod.yml - 生产环境

**前端环境配置** [Source: architecture/10.frontend-architecture.md#项目结构]：
- .env - 基础环境变量
- .env.development - 开发环境
- .env.production - 生产环境
- .env.staging - 预发布环境

### 编码规范
基于架构文档 [Source: architecture/17.coding-standards.md]：
- 前端组件使用 PascalCase 命名
- 后端服务类使用 PascalCase 命名
- API路由使用 kebab-case
- 数据库表使用 snake_case
- 常量使用 UPPER_SNAKE_CASE

### 并行开发脚本配置
根目录 package.json 配置 [Source: architecture/12.unified-project-structure.md#Monorepo管理工具]：
```json
{
  "scripts": {
    "dev": "concurrently \"npm run dev:web\" \"npm run dev:api\"",
    "dev:web": "cd frontend && npm run dev",
    "dev:api": "cd backend && mvn spring-boot:run"
  }
}
```

## Testing
基于架构文档 [Source: architecture/16.testing-strategy.md]：

### 测试文件位置
- 前端测试：`frontend/tests/` 和 `frontend/src/__tests__/`
- 后端测试：`backend/src/test/java/com/example/certificate/`

### 测试框架
- 前端：Jest + Vue Test Utils
- 后端：JUnit 5 + Mockito

### 测试要求
- 此故事不需要编写具体的业务测试
- 但需要确保项目结构支持测试框架的运行
- 创建基本的测试目录结构

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-12 | 1.0 | 初始故事创建 | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
claude-opus-4-1-20250805

### Debug Log References
- 前端成功启动在 http://localhost:3000/
- 后端Maven编译成功
- 构建脚本成功生成前后端产物

### Completion Notes List
- 创建了完整的monorepo项目结构
- 配置了Spring Boot 2.7.x后端框架与所有必要依赖
- 搭建了Vue 3 + Vite前端框架，集成了Element Plus UI库
- 配置了Git版本控制和.gitignore
- 创建了开发、构建、部署脚本
- 编写了详细的项目文档和开发指南
- 验证了所有组件可正常运行

### File List
**创建的文件：**
- certificate-lifecycle-management/
  - .gitignore
  - README.md
  - package.json
  - backend/
    - pom.xml
    - README.md
    - src/main/java/com/example/certificate/CertificateManagementApplication.java
    - src/main/resources/application.yml
    - src/main/resources/application-dev.yml
    - src/main/resources/application-test.yml
    - src/main/resources/application-prod.yml
  - frontend/
    - README.md (更新)
    - package.json
    - vite.config.js
    - src/main.js
    - src/App.vue
    - src/router/index.js
    - src/views/HomeView.vue
    - src/views/CertificateListView.vue
    - src/views/CertificateDetailView.vue
    - src/views/LoginView.vue
    - src/views/NotFoundView.vue
    - .env
    - .env.development
    - .env.production
    - .env.staging
  - scripts/
    - build.sh
    - dev.sh
    - deploy.sh

## QA Results
（待QA时填写）