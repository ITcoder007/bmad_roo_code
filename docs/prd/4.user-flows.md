# User Flows

## User Flow 1: 证书管理流程

**流程描述**: IT运维人员通过系统管理证书的全生命周期，包括添加新证书、查看证书状态、编辑证书信息和删除证书。

**流程步骤**:
1. **登录系统**: 用户通过认证登录系统
2. **访问证书列表**: 用户导航到证书列表页面，查看所有证书的概览
3. **添加新证书**:
   - 点击"添加证书"按钮
   - 填写证书信息表单（证书名称、域名、颁发机构、到期日期、证书类型等）
   - 提交表单，系统验证并保存证书信息
   - 返回证书列表，确认新证书已添加
4. **查看证书详情**:
   - 在证书列表中点击特定证书的"查看详情"链接
   - 系统显示证书的完整信息，包括所有元数据和状态
   - 用户可以查看证书的详细信息
5. **编辑证书信息**:
   - 在证书详情页面点击"编辑"按钮
   - 修改证书信息表单
   - 提交表单，系统验证并更新证书信息
   - 返回证书详情页面，确认信息已更新
6. **删除证书**:
   - 在证书详情页面点击"删除"按钮
   - 系统显示确认对话框
   - 用户确认删除操作
   - 系统删除证书并返回证书列表
7. **退出系统**: 用户完成操作后安全退出系统

**决策点**:
- 证书信息验证失败时，系统显示错误信息并要求用户修正
- 删除证书时，系统要求用户确认，防止误操作

**异常处理**:
- 网络连接失败时，系统显示离线提示并保存本地操作
- 证书信息验证失败时，系统高亮显示错误字段并提供修正建议

## User Flow 2: 证书监控与预警处理流程

**流程描述**: IT运维人员通过系统监控证书状态，接收邮件和短信预警通知，并直接通过证书列表处理即将过期的证书。

**流程步骤**:
1. **系统自动监控**: 系统每小时自动检查所有证书的到期时间
2. **预警触发**: 当证书即将过期时（30天、15天、7天、1天），系统触发预警机制
3. **预警通知**: 系统通过邮件和短信发送预警通知，通知内容包括证书名称、域名和过期时间
4. **用户查看预警**:
   - 用户收到邮件或短信预警通知
   - 用户登录系统
   - 系统仪表板显示即将过期证书的数量和状态分布
5. **处理即将过期证书**:
   - 用户导航到证书列表页面
   - 用户使用筛选功能查看即将过期的证书
   - 用户根据证书状态（30天、15天、7天、1天）采取相应措施：
     - 对于30天和15天的预警，用户可以计划证书更新
     - 对于7天和1天的预警，用户需要立即处理证书更新
   - 用户可以直接编辑证书信息或记录外部处理措施
6. **证书状态更新**: 用户更新证书信息后，系统自动重新计算证书状态
7. **后续跟踪**: 系统继续监控证书状态，确保证书按时更新

**决策点**:
- 用户需要根据证书状态决定处理的紧急程度
- 用户需要判断是否需要立即更新证书或可以计划稍后更新

**异常处理**:
- 如果用户无法及时处理预警，系统会继续发送预警通知
- 如果证书更新失败，用户需要手动更新系统中的证书信息

## User Flow 3: 证书状态查看与搜索流程

**流程描述**: IT运维人员通过系统查看证书状态分布，并使用搜索功能快速定位特定证书。

**流程步骤**:
1. **登录系统**: 用户通过认证登录系统
2. **访问系统仪表板**: 用户导航到系统仪表板
3. **查看证书状态分布**:
   - 用户查看仪表板上的证书状态分布
   - 系统显示正常、即将过期、已过期证书的数量和比例
   - 用户可以点击饼图的各个部分查看对应状态的证书列表
4. **查看即将过期证书**:
   - 用户查看仪表板上显示的即将过期证书列表（7天内到期）
   - 系统按到期时间排序显示证书
   - 用户可以点击证书查看详情或直接处理
5. **使用搜索功能**:
   - 用户导航到证书列表页面
   - 用户在搜索框中输入关键词（证书名称或域名）
   - 用户点击搜索按钮或按回车键触发搜索
   - 系统显示匹配搜索条件的证书列表
   - 搜索结果中高亮显示匹配的关键词
6. **使用筛选功能**:
   - 用户在证书列表页面使用筛选器
   - 用户选择按证书状态（正常、即将过期、已过期）进行筛选
   - 系统显示符合筛选条件的证书列表
7. **使用排序功能**:
   - 用户在证书列表页面点击列标题（如到期日期、状态）
   - 系统按选定的列对证书列表进行排序
   - 用户可以切换升序或降序排序
8. **查看证书详情**: 从搜索、筛选或排序结果中，用户点击特定证书查看详情

**决策点**:
- 用户需要决定使用搜索、筛选还是排序来查找证书
- 用户需要决定查看哪些状态的证书或关注哪些即将过期的证书

**异常处理**:
- 如果搜索没有返回结果，系统会显示"未找到匹配的证书"并提供搜索建议
- 如果系统响应缓慢，系统会显示加载指示器